<EditDataFormTemplateSpec 
    xmlns="bb_appfx_editdataformtemplate"
    xmlns:common="bb_appfx_commontypes"
    ID="24a653cf-cfd2-4a4d-8312-8b76539d2d63"
    Name="Child Project Community 2 Edit Form"
    Description="Used for editing the second tab of Community Informaiton for a Child Project Extension"
    Author="Cary Mayeda"
    DataFormInstanceID="d3bf5f48-0bdf-443c-bf23-b7fce9406697"
    RecordType="Child Project Extension"
    common:SecurityUIFolder="Sponsorship\Opportunity\Child Project"
    >

<!-- 
Remarks:    ID is a foreign key to the related CONSTITUENT.ID

History:
Date            Modified By     Comments
27-Mar-2012     CMayeda         Initial Version
02-May-2012		CMayeda			Removed CONSTITUENTID column
-->

	<SPDataForm>

		<!-- define the edit load SP, which is used to load the data for the form -->
		<LoadImplementation SPName="USR_USP_DATAFORMTEMPLATE_EDITLOAD_CHILDPROJECT_COMMUNITY2">
			<common:CreateProcedureSQL>
				<![CDATA[
create procedure dbo.USR_USP_DATAFORMTEMPLATE_EDITLOAD_CHILDPROJECT_COMMUNITY2(
    @ID uniqueidentifier,
    @DATALOADED bit = 0 output,
    @TSLONG bigint = 0 output,
	@HIGHESTEDUCATIONAVAILABLECODEID uniqueidentifier = null output,
    @HIGHESTEDUCATIONAVAILABLEOTHER nvarchar(50) = null output,
    @EDUCATIONSYSTEMDIVISIONS nvarchar(200) = null output,
    @EDUCATIONTYPEPUBLIC bit = null output,
    @EDUCATIONTYPEPRIVATE bit = null output,
    @EDUCATIONTYPERELIGIOUS bit = null output,
    @EDUCATIONTYPEOTHER bit = null output,
    @EDUCATIONTYPEOTHERDESC nvarchar(50) = null output,
    @VOCATIONALTRAININGAVAILABLE nvarchar(200) = null output,
    @PERCENTCHILDRENNOTINSCHOOL tinyint = null output,
    @PERCENTCHILDRENCOMPLETEDPRIMARYSCHOOL tinyint = null output,
    @PERCENTYOUTHCOMPLETEDSECONDARYSCHOOL tinyint = null output,
    @AVGFAMILYMONTHLYINCOME decimal(8,2) = null output,
    @AVGFAMILYMONTHLYINCOMEINUSDOLLARS money = null output,
    @PRIMARYOCCUPATIONHERDING bit = null output,
    @PRIMARYOCCUPATIONDAYLABOR bit = null output,
    @PRIMARYOCCUPATIONDOMESTIC bit = null output,
    @PRIMARYOCCUPATIONFACTORY bit = null output,
    @PRIMARYOCCUPATIONFISHING bit = null output,
    @PRIMARYOCCUPATIONGOVERNMENT bit = null output,
    @PRIMARYOCCUPATIONSTREETVENDING bit = null output,
    @PRIMARYOCCUPATIONFARMING bit = null output,
    @PRIMARYOCCUPATIONTRADING bit = null output,
    @PRIMARYOCCUPATIONPLANTATION bit = null output,
    @PRIMARYOCCUPATIONPORTER bit = null output,
    @PRIMARYOCCUPATIONOTHER bit = null output,
    @PRIMARYOCCUPATIONOTHERDESC nvarchar(50) = null output,
    @AVGHOURSPERWEEK tinyint = null output,
    @UNEMPLOYMENTRATE tinyint = null output,
    @LOCALTRADITIONS nvarchar(1000) = null output,
    @HOLIDAYS nvarchar(200) = null output,
    @PRIMARYETHNICGROUPS nvarchar(50) = null output,
    @PRIMARYLANGUAGES nvarchar(50) = null output,
    @FAMILYSTRUCTUREPARTRIARCHAL bit = null output,
    @FAMILYSTRUCTUREMATRIARCHAL bit = null output,
    @FAMILYSTRUCTUREFAMILYDISINTEGRATION bit = null output,
    @FAMILYSTRUCTURESINGLEPARENT bit = null output,
    @FAMILYSTRUCTUREEXTENDEDFAMILY bit = null output,
    @FAMILYSTRUCTURECHILDHEADED bit = null output,
    @FAMILYSTRUCTUREOTHER bit = null output,
    @FAMILYSTRUCTUREOTHERDESC nvarchar(50) = null output,
    @SOCIALISSUESALCOHOLABUSE bit = null output,
    @SOCIALISSUESCHILDABUSE bit = null output,
    @SOCIALISSUESCHILDLABOR bit = null output,
    @SOCIALISSUESCHILDPROSTITUTION bit = null output,
    @SOCIALISSUESCHILDTRAFFICKING bit = null output,
    @SOCIALISSUESCHILDHEADEDHOUSEHOLDS bit = null output,
    @SOCIALISSUESDRUGABUSE bit = null output,
    @SOCIALISSUESFORCEDMARRIAGE bit = null output,
    @SOCIALISSUESGIRLCHILDDISCRIMINATION bit = null output,
    @SOCIALISSUESHIGHDIVORCE bit = null output,
    @SOCIALISSUESORPHANS bit = null output,
    @SOCIALISSUESREFUGEES bit = null output,
    @SOCIALISSUESSINGLEPARENTFAMILIES bit = null output,
    @SOCIALISSUESTRAUMA bit = null output,
    @SOCIALISSUESWAR bit = null output,
    @SOCIALISSUESOTHER bit = null output,
    @SOCIALISSUESOTHERDESC nvarchar(50) = null output,
	
    @LEGALPROTECTIONAWARENOTENFORCED bit = null output,
    @LEGALPROTECTIONNOTAWARE bit = null output,
    @LEGALPROTECTIONAWAREENFORCED bit = null output,
    @CHILDLABORREGULARLYINLABORPOOL bit = null output,
    @CHILDLABORRSOMETIMESINLABORPOOL bit = null output,
    @CHILDLABORNOTINLABORPOOL bit = null output,
    @CHILDCAREWHENPARENTABSENTADOPTION bit = null output,
    @CHILDCAREWHENPARENTABSENTEXTENDEDFAMILY bit = null output,
    @CHILDCAREWHENPARENTABSENTFOSTERCARE bit = null output,
    @CHILDCAREWHENPARENTABSENTINSTITUTION bit = null output,
    @CHILDCAREWHENPARENTABSENTNOCARE bit = null output,
    @CHILDCAREWHENPARENTABSENTOTHER bit = null output,
    @CHILDCAREWHENPARENTABSENTOTHERDESC nvarchar(50) = null output,
    @LOCALADOPTIONACCEPTEDCODE tinyint = null output,
    @FOREIGNADOPTIONLEGALCODE tinyint = null output
)
as

	set nocount on;

	-- be sure to set these, in case the select returns no rows
	set @DATALOADED = 0
	set @TSLONG = 0

	-- populate the output parameters, which correspond to fields on the form.  Note that
	-- we set @DATALOADED = 1 to indicate that the load was successful.  Otherwise, the system
	-- will display a "no data loaded" message.  Also note that we fetch the TSLONG so that concurrency
	-- can be considered.
	select	@DATALOADED = 1,
			@TSLONG = TSLONG,
			@HIGHESTEDUCATIONAVAILABLECODEID = HIGHESTEDUCATIONAVAILABLECODEID, 
			@HIGHESTEDUCATIONAVAILABLEOTHER = HIGHESTEDUCATIONAVAILABLEOTHER, 
			@EDUCATIONSYSTEMDIVISIONS = EDUCATIONSYSTEMDIVISIONS, 
			@EDUCATIONTYPEPUBLIC = EDUCATIONTYPEPUBLIC, 
			@EDUCATIONTYPEPRIVATE = EDUCATIONTYPEPRIVATE, 
			@EDUCATIONTYPERELIGIOUS = EDUCATIONTYPERELIGIOUS, 
			@EDUCATIONTYPEOTHER = EDUCATIONTYPEOTHER, 
			@EDUCATIONTYPEOTHERDESC = EDUCATIONTYPEOTHERDESC, 
			@VOCATIONALTRAININGAVAILABLE = VOCATIONALTRAININGAVAILABLE, 
			@PERCENTCHILDRENNOTINSCHOOL = PERCENTCHILDRENNOTINSCHOOL, 
			@PERCENTCHILDRENCOMPLETEDPRIMARYSCHOOL = PERCENTCHILDRENCOMPLETEDPRIMARYSCHOOL, 
			@PERCENTYOUTHCOMPLETEDSECONDARYSCHOOL = PERCENTYOUTHCOMPLETEDSECONDARYSCHOOL, 
			@AVGFAMILYMONTHLYINCOME = AVGFAMILYMONTHLYINCOME, 
			@AVGFAMILYMONTHLYINCOMEINUSDOLLARS = AVGFAMILYMONTHLYINCOMEINUSDOLLARS, 
			@PRIMARYOCCUPATIONHERDING = PRIMARYOCCUPATIONHERDING, 
			@PRIMARYOCCUPATIONDAYLABOR = PRIMARYOCCUPATIONDAYLABOR, 
			@PRIMARYOCCUPATIONDOMESTIC = PRIMARYOCCUPATIONDOMESTIC, 
			@PRIMARYOCCUPATIONFACTORY = PRIMARYOCCUPATIONFACTORY, 
			@PRIMARYOCCUPATIONFISHING = PRIMARYOCCUPATIONFISHING, 
			@PRIMARYOCCUPATIONGOVERNMENT = PRIMARYOCCUPATIONGOVERNMENT, 
			@PRIMARYOCCUPATIONSTREETVENDING = PRIMARYOCCUPATIONSTREETVENDING, 
			@PRIMARYOCCUPATIONFARMING = PRIMARYOCCUPATIONFARMING, 
			@PRIMARYOCCUPATIONTRADING = PRIMARYOCCUPATIONTRADING, 
			@PRIMARYOCCUPATIONPLANTATION = PRIMARYOCCUPATIONPLANTATION, 
			@PRIMARYOCCUPATIONPORTER = PRIMARYOCCUPATIONPORTER, 
			@PRIMARYOCCUPATIONOTHER = PRIMARYOCCUPATIONOTHER, 
			@PRIMARYOCCUPATIONOTHERDESC = PRIMARYOCCUPATIONOTHERDESC, 
			@AVGHOURSPERWEEK = AVGHOURSPERWEEK, 
			@UNEMPLOYMENTRATE = UNEMPLOYMENTRATE, 
			@LOCALTRADITIONS = LOCALTRADITIONS, 
			@HOLIDAYS = HOLIDAYS, 
			@PRIMARYETHNICGROUPS = PRIMARYETHNICGROUPS, 
			@PRIMARYLANGUAGES = PRIMARYLANGUAGES, 
			@FAMILYSTRUCTUREPARTRIARCHAL = FAMILYSTRUCTUREPARTRIARCHAL, 
			@FAMILYSTRUCTUREMATRIARCHAL = FAMILYSTRUCTUREMATRIARCHAL, 
			@FAMILYSTRUCTUREFAMILYDISINTEGRATION = FAMILYSTRUCTUREFAMILYDISINTEGRATION, 
			@FAMILYSTRUCTURESINGLEPARENT = FAMILYSTRUCTURESINGLEPARENT, 
			@FAMILYSTRUCTUREEXTENDEDFAMILY = FAMILYSTRUCTUREEXTENDEDFAMILY, 
			@FAMILYSTRUCTURECHILDHEADED = FAMILYSTRUCTURECHILDHEADED, 
			@FAMILYSTRUCTUREOTHER = FAMILYSTRUCTUREOTHER, 
			@FAMILYSTRUCTUREOTHERDESC = FAMILYSTRUCTUREOTHERDESC, 
			@SOCIALISSUESALCOHOLABUSE = SOCIALISSUESALCOHOLABUSE, 
			@SOCIALISSUESCHILDABUSE = SOCIALISSUESCHILDABUSE, 
			@SOCIALISSUESCHILDLABOR = SOCIALISSUESCHILDLABOR, 
			@SOCIALISSUESCHILDPROSTITUTION = SOCIALISSUESCHILDPROSTITUTION, 
			@SOCIALISSUESCHILDTRAFFICKING = SOCIALISSUESCHILDTRAFFICKING, 
			@SOCIALISSUESCHILDHEADEDHOUSEHOLDS = SOCIALISSUESCHILDHEADEDHOUSEHOLDS, 
			@SOCIALISSUESDRUGABUSE = SOCIALISSUESDRUGABUSE, 
			@SOCIALISSUESFORCEDMARRIAGE = SOCIALISSUESFORCEDMARRIAGE, 
			@SOCIALISSUESGIRLCHILDDISCRIMINATION = SOCIALISSUESGIRLCHILDDISCRIMINATION, 
			@SOCIALISSUESHIGHDIVORCE = SOCIALISSUESHIGHDIVORCE, 
			@SOCIALISSUESORPHANS = SOCIALISSUESORPHANS, 
			@SOCIALISSUESREFUGEES = SOCIALISSUESREFUGEES, 
			@SOCIALISSUESSINGLEPARENTFAMILIES = SOCIALISSUESSINGLEPARENTFAMILIES, 
			@SOCIALISSUESTRAUMA = SOCIALISSUESTRAUMA, 
			@SOCIALISSUESWAR = SOCIALISSUESWAR, 
			@SOCIALISSUESOTHER = SOCIALISSUESOTHER, 
			@SOCIALISSUESOTHERDESC = SOCIALISSUESOTHERDESC, 
		   
			@LEGALPROTECTIONAWARENOTENFORCED = LEGALPROTECTIONAWARENOTENFORCED, 
			@LEGALPROTECTIONNOTAWARE = LEGALPROTECTIONNOTAWARE, 
			@LEGALPROTECTIONAWAREENFORCED = LEGALPROTECTIONAWAREENFORCED, 
			@CHILDLABORREGULARLYINLABORPOOL = CHILDLABORREGULARLYINLABORPOOL, 
			@CHILDLABORRSOMETIMESINLABORPOOL = CHILDLABORRSOMETIMESINLABORPOOL, 
			@CHILDLABORNOTINLABORPOOL = CHILDLABORNOTINLABORPOOL, 
			@CHILDCAREWHENPARENTABSENTADOPTION = CHILDCAREWHENPARENTABSENTADOPTION, 
			@CHILDCAREWHENPARENTABSENTEXTENDEDFAMILY = CHILDCAREWHENPARENTABSENTEXTENDEDFAMILY, 
			@CHILDCAREWHENPARENTABSENTFOSTERCARE = CHILDCAREWHENPARENTABSENTFOSTERCARE, 
			@CHILDCAREWHENPARENTABSENTINSTITUTION = CHILDCAREWHENPARENTABSENTINSTITUTION, 
			@CHILDCAREWHENPARENTABSENTNOCARE = CHILDCAREWHENPARENTABSENTNOCARE, 
			@CHILDCAREWHENPARENTABSENTOTHER = CHILDCAREWHENPARENTABSENTOTHER, 
			@CHILDCAREWHENPARENTABSENTOTHERDESC = CHILDCAREWHENPARENTABSENTOTHERDESC, 
			@LOCALADOPTIONACCEPTEDCODE = LOCALADOPTIONACCEPTEDCODE, 
			@FOREIGNADOPTIONLEGALCODE = FOREIGNADOPTIONLEGALCODE
	  from  dbo.USR_CHILDPROJECTEXTENSION
	 where  ID = @ID
	
	return 0;
				]]>
			</common:CreateProcedureSQL>
		</LoadImplementation>

		<SaveImplementation SPName="USR_USP_DATAFORMTEMPLATE_EDIT_CHILDPROJECT_COMMUNITY2">
			<common:CreateProcedureSQL>
				<![CDATA[
create procedure dbo.USR_USP_DATAFORMTEMPLATE_EDIT_CHILDPROJECT_COMMUNITY2 (
	@ID uniqueidentifier,
	@CHANGEAGENTID uniqueidentifier,
    @HIGHESTEDUCATIONAVAILABLECODEID uniqueidentifier,
    @HIGHESTEDUCATIONAVAILABLEOTHER nvarchar(50),
    @EDUCATIONSYSTEMDIVISIONS nvarchar(200),
    @EDUCATIONTYPEPUBLIC bit,
    @EDUCATIONTYPEPRIVATE bit,
    @EDUCATIONTYPERELIGIOUS bit,
    @EDUCATIONTYPEOTHER bit,
    @EDUCATIONTYPEOTHERDESC nvarchar(50),
    @VOCATIONALTRAININGAVAILABLE nvarchar(200),
    @PERCENTCHILDRENNOTINSCHOOL tinyint,
    @PERCENTCHILDRENCOMPLETEDPRIMARYSCHOOL tinyint,
    @PERCENTYOUTHCOMPLETEDSECONDARYSCHOOL tinyint,
    @AVGFAMILYMONTHLYINCOME decimal(8,2),
    @AVGFAMILYMONTHLYINCOMEINUSDOLLARS money,
    @PRIMARYOCCUPATIONHERDING bit,
    @PRIMARYOCCUPATIONDAYLABOR bit,
    @PRIMARYOCCUPATIONDOMESTIC bit,
    @PRIMARYOCCUPATIONFACTORY bit,
    @PRIMARYOCCUPATIONFISHING bit,
    @PRIMARYOCCUPATIONGOVERNMENT bit,
    @PRIMARYOCCUPATIONSTREETVENDING bit,
    @PRIMARYOCCUPATIONFARMING bit,
    @PRIMARYOCCUPATIONTRADING bit,
    @PRIMARYOCCUPATIONPLANTATION bit,
    @PRIMARYOCCUPATIONPORTER bit,
    @PRIMARYOCCUPATIONOTHER bit,
    @PRIMARYOCCUPATIONOTHERDESC nvarchar(50),
    @AVGHOURSPERWEEK tinyint,
    @UNEMPLOYMENTRATE tinyint,
    @LOCALTRADITIONS nvarchar(1000),
    @HOLIDAYS nvarchar(200),
    @PRIMARYETHNICGROUPS nvarchar(50),
    @PRIMARYLANGUAGES nvarchar(50),
    @FAMILYSTRUCTUREPARTRIARCHAL bit,
    @FAMILYSTRUCTUREMATRIARCHAL bit,
    @FAMILYSTRUCTUREFAMILYDISINTEGRATION bit,
    @FAMILYSTRUCTURESINGLEPARENT bit,
    @FAMILYSTRUCTUREEXTENDEDFAMILY bit,
    @FAMILYSTRUCTURECHILDHEADED bit,
    @FAMILYSTRUCTUREOTHER bit,
    @FAMILYSTRUCTUREOTHERDESC nvarchar(50),
    @SOCIALISSUESALCOHOLABUSE bit,
    @SOCIALISSUESCHILDABUSE bit,
    @SOCIALISSUESCHILDLABOR bit,
    @SOCIALISSUESCHILDPROSTITUTION bit,
    @SOCIALISSUESCHILDTRAFFICKING bit,
    @SOCIALISSUESCHILDHEADEDHOUSEHOLDS bit,
    @SOCIALISSUESDRUGABUSE bit,
    @SOCIALISSUESFORCEDMARRIAGE bit,
    @SOCIALISSUESGIRLCHILDDISCRIMINATION bit,
    @SOCIALISSUESHIGHDIVORCE bit,
    @SOCIALISSUESORPHANS bit,
    @SOCIALISSUESREFUGEES bit,
    @SOCIALISSUESSINGLEPARENTFAMILIES bit,
    @SOCIALISSUESTRAUMA bit,
    @SOCIALISSUESWAR bit,
    @SOCIALISSUESOTHER bit,
    @SOCIALISSUESOTHERDESC nvarchar(50),
	
    @LEGALPROTECTIONAWARENOTENFORCED bit,
    @LEGALPROTECTIONNOTAWARE bit,
    @LEGALPROTECTIONAWAREENFORCED bit,
    @CHILDLABORREGULARLYINLABORPOOL bit,
    @CHILDLABORRSOMETIMESINLABORPOOL bit,
    @CHILDLABORNOTINLABORPOOL bit,
    @CHILDCAREWHENPARENTABSENTADOPTION bit,
    @CHILDCAREWHENPARENTABSENTEXTENDEDFAMILY bit,
    @CHILDCAREWHENPARENTABSENTFOSTERCARE bit,
    @CHILDCAREWHENPARENTABSENTINSTITUTION bit,
    @CHILDCAREWHENPARENTABSENTNOCARE bit,
    @CHILDCAREWHENPARENTABSENTOTHER bit,
    @CHILDCAREWHENPARENTABSENTOTHERDESC nvarchar(50),
    @LOCALADOPTIONACCEPTEDCODE tinyint,
    @FOREIGNADOPTIONLEGALCODE tinyint
)
as

	set nocount on;

	if @CHANGEAGENTID is null  
		exec dbo.USP_CHANGEAGENT_GETORCREATECHANGEAGENT @CHANGEAGENTID output
				
	declare @CURRENTDATE datetime
	set @CURRENTDATE = getdate()

	begin try
		-- handle updating the data
		update dbo.USR_CHILDPROJECTEXTENSION set		
			HIGHESTEDUCATIONAVAILABLECODEID = @HIGHESTEDUCATIONAVAILABLECODEID, 
			HIGHESTEDUCATIONAVAILABLEOTHER = @HIGHESTEDUCATIONAVAILABLEOTHER, 
			EDUCATIONSYSTEMDIVISIONS = @EDUCATIONSYSTEMDIVISIONS, 
			EDUCATIONTYPEPUBLIC = @EDUCATIONTYPEPUBLIC, 
			EDUCATIONTYPEPRIVATE = @EDUCATIONTYPEPRIVATE, 
			EDUCATIONTYPERELIGIOUS = @EDUCATIONTYPERELIGIOUS, 
			EDUCATIONTYPEOTHER = @EDUCATIONTYPEOTHER, 
			EDUCATIONTYPEOTHERDESC = @EDUCATIONTYPEOTHERDESC, 
			VOCATIONALTRAININGAVAILABLE = @VOCATIONALTRAININGAVAILABLE, 
			PERCENTCHILDRENNOTINSCHOOL = @PERCENTCHILDRENNOTINSCHOOL, 
			PERCENTCHILDRENCOMPLETEDPRIMARYSCHOOL = @PERCENTCHILDRENCOMPLETEDPRIMARYSCHOOL, 
			PERCENTYOUTHCOMPLETEDSECONDARYSCHOOL = @PERCENTYOUTHCOMPLETEDSECONDARYSCHOOL, 
			AVGFAMILYMONTHLYINCOME = @AVGFAMILYMONTHLYINCOME, 
			AVGFAMILYMONTHLYINCOMEINUSDOLLARS = @AVGFAMILYMONTHLYINCOMEINUSDOLLARS, 
			PRIMARYOCCUPATIONHERDING = @PRIMARYOCCUPATIONHERDING, 
			PRIMARYOCCUPATIONDAYLABOR = @PRIMARYOCCUPATIONDAYLABOR, 
			PRIMARYOCCUPATIONDOMESTIC = @PRIMARYOCCUPATIONDOMESTIC, 
			PRIMARYOCCUPATIONFACTORY = @PRIMARYOCCUPATIONFACTORY, 
			PRIMARYOCCUPATIONFISHING = @PRIMARYOCCUPATIONFISHING, 
			PRIMARYOCCUPATIONGOVERNMENT = @PRIMARYOCCUPATIONGOVERNMENT, 
			PRIMARYOCCUPATIONSTREETVENDING = @PRIMARYOCCUPATIONSTREETVENDING, 
			PRIMARYOCCUPATIONFARMING = @PRIMARYOCCUPATIONFARMING, 
			PRIMARYOCCUPATIONTRADING = @PRIMARYOCCUPATIONTRADING, 
			PRIMARYOCCUPATIONPLANTATION = @PRIMARYOCCUPATIONPLANTATION, 
			PRIMARYOCCUPATIONPORTER = @PRIMARYOCCUPATIONPORTER, 
			PRIMARYOCCUPATIONOTHER = @PRIMARYOCCUPATIONOTHER, 
			PRIMARYOCCUPATIONOTHERDESC = @PRIMARYOCCUPATIONOTHERDESC, 
			AVGHOURSPERWEEK = @AVGHOURSPERWEEK, 
			UNEMPLOYMENTRATE = @UNEMPLOYMENTRATE, 
			LOCALTRADITIONS = @LOCALTRADITIONS, 
			HOLIDAYS = @HOLIDAYS, 
			PRIMARYETHNICGROUPS = @PRIMARYETHNICGROUPS, 
			PRIMARYLANGUAGES = @PRIMARYLANGUAGES, 
			FAMILYSTRUCTUREPARTRIARCHAL = @FAMILYSTRUCTUREPARTRIARCHAL, 
			FAMILYSTRUCTUREMATRIARCHAL = @FAMILYSTRUCTUREMATRIARCHAL, 
			FAMILYSTRUCTUREFAMILYDISINTEGRATION = @FAMILYSTRUCTUREFAMILYDISINTEGRATION, 
			FAMILYSTRUCTURESINGLEPARENT = @FAMILYSTRUCTURESINGLEPARENT, 
			FAMILYSTRUCTUREEXTENDEDFAMILY = @FAMILYSTRUCTUREEXTENDEDFAMILY, 
			FAMILYSTRUCTURECHILDHEADED = @FAMILYSTRUCTURECHILDHEADED, 
			FAMILYSTRUCTUREOTHER = @FAMILYSTRUCTUREOTHER, 
			FAMILYSTRUCTUREOTHERDESC = @FAMILYSTRUCTUREOTHERDESC, 
			SOCIALISSUESALCOHOLABUSE = @SOCIALISSUESALCOHOLABUSE, 
			SOCIALISSUESCHILDABUSE = @SOCIALISSUESCHILDABUSE, 
			SOCIALISSUESCHILDLABOR = @SOCIALISSUESCHILDLABOR, 
			SOCIALISSUESCHILDPROSTITUTION = @SOCIALISSUESCHILDPROSTITUTION, 
			SOCIALISSUESCHILDTRAFFICKING = @SOCIALISSUESCHILDTRAFFICKING, 
			SOCIALISSUESCHILDHEADEDHOUSEHOLDS = @SOCIALISSUESCHILDHEADEDHOUSEHOLDS, 
			SOCIALISSUESDRUGABUSE = @SOCIALISSUESDRUGABUSE, 
			SOCIALISSUESFORCEDMARRIAGE = @SOCIALISSUESFORCEDMARRIAGE, 
			SOCIALISSUESGIRLCHILDDISCRIMINATION = @SOCIALISSUESGIRLCHILDDISCRIMINATION, 
			SOCIALISSUESHIGHDIVORCE = @SOCIALISSUESHIGHDIVORCE, 
			SOCIALISSUESORPHANS = @SOCIALISSUESORPHANS, 
			SOCIALISSUESREFUGEES = @SOCIALISSUESREFUGEES, 
			SOCIALISSUESSINGLEPARENTFAMILIES = @SOCIALISSUESSINGLEPARENTFAMILIES, 
			SOCIALISSUESTRAUMA = @SOCIALISSUESTRAUMA, 
			SOCIALISSUESWAR = @SOCIALISSUESWAR, 
			SOCIALISSUESOTHER = @SOCIALISSUESOTHER, 
			SOCIALISSUESOTHERDESC = @SOCIALISSUESOTHERDESC, 
		   
			LEGALPROTECTIONAWARENOTENFORCED = @LEGALPROTECTIONAWARENOTENFORCED, 
			LEGALPROTECTIONNOTAWARE = @LEGALPROTECTIONNOTAWARE, 
			LEGALPROTECTIONAWAREENFORCED = @LEGALPROTECTIONAWAREENFORCED, 
			CHILDLABORREGULARLYINLABORPOOL = @CHILDLABORREGULARLYINLABORPOOL, 
			CHILDLABORRSOMETIMESINLABORPOOL = @CHILDLABORRSOMETIMESINLABORPOOL, 
			CHILDLABORNOTINLABORPOOL = @CHILDLABORNOTINLABORPOOL, 
			CHILDCAREWHENPARENTABSENTADOPTION = @CHILDCAREWHENPARENTABSENTADOPTION, 
			CHILDCAREWHENPARENTABSENTEXTENDEDFAMILY = @CHILDCAREWHENPARENTABSENTEXTENDEDFAMILY, 
			CHILDCAREWHENPARENTABSENTFOSTERCARE = @CHILDCAREWHENPARENTABSENTFOSTERCARE, 
			CHILDCAREWHENPARENTABSENTINSTITUTION = @CHILDCAREWHENPARENTABSENTINSTITUTION, 
			CHILDCAREWHENPARENTABSENTNOCARE = @CHILDCAREWHENPARENTABSENTNOCARE, 
			CHILDCAREWHENPARENTABSENTOTHER = @CHILDCAREWHENPARENTABSENTOTHER, 
			CHILDCAREWHENPARENTABSENTOTHERDESC = @CHILDCAREWHENPARENTABSENTOTHERDESC, 
			LOCALADOPTIONACCEPTEDCODE = @LOCALADOPTIONACCEPTEDCODE, 
			FOREIGNADOPTIONLEGALCODE = @FOREIGNADOPTIONLEGALCODE,
				
			CHANGEDBYID = @CHANGEAGENTID,
			DATECHANGED = @CURRENTDATE
	 where  ID = @ID
	
	end try
	begin catch
		exec dbo.USP_RAISE_ERROR
		return 1
	end catch

return 0;
				]]>
			</common:CreateProcedureSQL>
		</SaveImplementation>

	</SPDataForm>

	<!-- describe fields on the form, which correspond to parameters on the SP.  Note that system paramters 
	like the record ID, DATALOADED, TSLONG, and CURRENTAPPUSERID need not be listed. -->
	<common:FormMetaData FixedDialog="true">
		<common:FormFields>
			<common:FormField FieldID="ID" DataType="Guid" Hidden="true" Caption="ID" />
			<common:FormField FieldID="HIGHESTEDUCATIONAVAILABLECODEID" DataType="Guid" Caption="Higest education available in local community" >
				<common:CodeTable CodeTableName="USR_CHILDPROJECTHIGHESTEDUCATIONCODE" />
			</common:FormField>				
			<common:FormField FieldID="HIGHESTEDUCATIONAVAILABLEOTHER" MaxLength="50" Caption="Other" />
			<common:FormField FieldID="EDUCATIONSYSTEMDIVISIONS" MaxLength="200" Caption="Education system divisions" Multiline="true" />
			<common:FormField FieldID="EDUCATIONTYPEPUBLIC" DataType="Boolean" Caption="Public" />
			<common:FormField FieldID="EDUCATIONTYPEPRIVATE" DataType="Boolean" Caption="Private" />
			<common:FormField FieldID="EDUCATIONTYPERELIGIOUS" DataType="Boolean" Caption="Religious" />
			<common:FormField FieldID="EDUCATIONTYPEOTHER" DataType="Boolean" Caption="Other" />
			<common:FormField FieldID="EDUCATIONTYPEOTHERDESC" MaxLength="50" Caption="Otherdesc" />
			<common:FormField FieldID="VOCATIONALTRAININGAVAILABLE" MaxLength="200" Caption="Types of vocational training available" Multiline="true" />
			<common:FormField FieldID="PERCENTCHILDRENNOTINSCHOOL" DataType="TinyInt" Caption="Percentage of children of school age who are not in school" />
			<common:FormField FieldID="PERCENTCHILDRENCOMPLETEDPRIMARYSCHOOL" DataType="TinyInt" Caption="Percentage of children who have completed primary school" />
			<common:FormField FieldID="PERCENTYOUTHCOMPLETEDSECONDARYSCHOOL" DataType="TinyInt" Caption="Percentage of youth who have completed secondary school" />
			<common:FormField FieldID="AVGFAMILYMONTHLYINCOME" DataType="Decimal" Precision="8" Scale="2" Caption="Local average family monthly income" />
			<common:FormField FieldID="AVGFAMILYMONTHLYINCOMEINUSDOLLARS" DataType="Money" Caption="US average family month income" />
			<common:FormField FieldID="PRIMARYOCCUPATIONHERDING" DataType="Boolean" Caption="Animal herding" />
			<common:FormField FieldID="PRIMARYOCCUPATIONDAYLABOR" DataType="Boolean" Caption="Day labor" />
			<common:FormField FieldID="PRIMARYOCCUPATIONDOMESTIC" DataType="Boolean" Caption="Domestic Services" />
			<common:FormField FieldID="PRIMARYOCCUPATIONFACTORY" DataType="Boolean" Caption="Factory work" />
			<common:FormField FieldID="PRIMARYOCCUPATIONFISHING" DataType="Boolean" Caption="Fishing" />
			<common:FormField FieldID="PRIMARYOCCUPATIONGOVERNMENT" DataType="Boolean" Caption="Government worker" />
			<common:FormField FieldID="PRIMARYOCCUPATIONSTREETVENDING" DataType="Boolean" Caption="Street vending" />
			<common:FormField FieldID="PRIMARYOCCUPATIONFARMING" DataType="Boolean" Caption="Subsistence farming" />
			<common:FormField FieldID="PRIMARYOCCUPATIONTRADING" DataType="Boolean" Caption="Petty or market trading" />
			<common:FormField FieldID="PRIMARYOCCUPATIONPLANTATION" DataType="Boolean" Caption="Plantation work" />
			<common:FormField FieldID="PRIMARYOCCUPATIONPORTER" DataType="Boolean" Caption="Porter or Coolie" />
			<common:FormField FieldID="PRIMARYOCCUPATIONOTHER" DataType="Boolean" Caption="Other" />
			<common:FormField FieldID="PRIMARYOCCUPATIONOTHERDESC" MaxLength="50" Caption="OtherDesc" />
			<common:FormField FieldID="AVGHOURSPERWEEK" DataType="TinyInt" Caption="Average number of hours adults work per week" />
			<common:FormField FieldID="UNEMPLOYMENTRATE" DataType="TinyInt" Caption="Unemployment rate" />
			<common:FormField FieldID="LOCALTRADITIONS" MaxLength="1000" Caption="Local traditions, rituals and customs" Multiline="true" />
			<common:FormField FieldID="HOLIDAYS" MaxLength="200" Caption="Community or local reglious holidays" Multiline="true" />
			<common:FormField FieldID="PRIMARYETHNICGROUPS" MaxLength="50" Caption="Primary ethnic group(s)" />
			<common:FormField FieldID="PRIMARYLANGUAGES" MaxLength="50" Caption="Primary language(s)" />
			<common:FormField FieldID="FAMILYSTRUCTUREPARTRIARCHAL" DataType="Boolean" Caption="Patriarchal" />
			<common:FormField FieldID="FAMILYSTRUCTUREMATRIARCHAL" DataType="Boolean" Caption="Matriarchal" />
			<common:FormField FieldID="FAMILYSTRUCTUREFAMILYDISINTEGRATION" DataType="Boolean" Caption="Family disintegration" />
			<common:FormField FieldID="FAMILYSTRUCTURESINGLEPARENT" DataType="Boolean" Caption="Single parent" />
			<common:FormField FieldID="FAMILYSTRUCTUREEXTENDEDFAMILY" DataType="Boolean" Caption="Extended family structure" />
			<common:FormField FieldID="FAMILYSTRUCTURECHILDHEADED" DataType="Boolean" Caption="Child-headed households" />
			<common:FormField FieldID="FAMILYSTRUCTUREOTHER" DataType="Boolean" Caption="Other" />
			<common:FormField FieldID="FAMILYSTRUCTUREOTHERDESC" MaxLength="50" Caption="Family structure other description" />
			<common:FormField FieldID="SOCIALISSUESALCOHOLABUSE" DataType="Boolean" Caption="Alcohol abuse" />
			<common:FormField FieldID="SOCIALISSUESCHILDABUSE" DataType="Boolean" Caption="Child abuse/dometic violence" />
			<common:FormField FieldID="SOCIALISSUESCHILDLABOR" DataType="Boolean" Caption="Child labor" />
			<common:FormField FieldID="SOCIALISSUESCHILDPROSTITUTION" DataType="Boolean" Caption="Child prostitution" />
			<common:FormField FieldID="SOCIALISSUESCHILDTRAFFICKING" DataType="Boolean" Caption="Child trafficking" />
			<common:FormField FieldID="SOCIALISSUESCHILDHEADEDHOUSEHOLDS" DataType="Boolean" Caption="Child-headed households" />
			<common:FormField FieldID="SOCIALISSUESDRUGABUSE" DataType="Boolean" Caption="Drug abuse" />
			<common:FormField FieldID="SOCIALISSUESFORCEDMARRIAGE" DataType="Boolean" Caption="Forced/arranged marriage" />
			<common:FormField FieldID="SOCIALISSUESGIRLCHILDDISCRIMINATION" DataType="Boolean" Caption="Girl-child discrimination" />
			<common:FormField FieldID="SOCIALISSUESHIGHDIVORCE" DataType="Boolean" Caption="High divorce" />
			<common:FormField FieldID="SOCIALISSUESORPHANS" DataType="Boolean" Caption="Oprhans" />
			<common:FormField FieldID="SOCIALISSUESREFUGEES" DataType="Boolean" Caption="Refugees" />
			<common:FormField FieldID="SOCIALISSUESSINGLEPARENTFAMILIES" DataType="Boolean" Caption="Single-parent families" />
			<common:FormField FieldID="SOCIALISSUESTRAUMA" DataType="Boolean" Caption="Trauma or Post traumatic stree disorder" />
			<common:FormField FieldID="SOCIALISSUESWAR" DataType="Boolean" Caption="War or conflict" />
			<common:FormField FieldID="SOCIALISSUESOTHER" DataType="Boolean" Caption="Other" />
			<common:FormField FieldID="SOCIALISSUESOTHERDESC" MaxLength="50" Caption="Social issues other description" />
			<common:FormField FieldID="LEGALPROTECTIONNOTAWARE" DataType="Boolean" Caption="Community is unaware of the Convention on the Rights of the Child. There are no local laws to protect children." />
			<common:FormField FieldID="LEGALPROTECTIONAWARENOTENFORCED" DataType="Boolean" Caption="Community is aware of the Convention on the Rights of the Child, but it is not enforced. There are local laws to protect children, but they are not enforced." />
			<common:FormField FieldID="LEGALPROTECTIONAWAREENFORCED" DataType="Boolean" Caption="Community is aware of the Covention on the Rights of the Child and effort is made to educate and post information on this topic. There are local laws to protect children and they are enforced." />
			<common:FormField FieldID="CHILDLABORREGULARLYINLABORPOOL" DataType="Boolean" Caption="Children regularly participate in the labor pool and in dangerous tasks, such as farming, factory work, and exposure to hazardous materials." />
			<common:FormField FieldID="CHILDLABORRSOMETIMESINLABORPOOL" DataType="Boolean" Caption="Children sometimes participate in the labor pool and in dangerous tasks, but do have the opportunity for education." />
			<common:FormField FieldID="CHILDLABORNOTINLABORPOOL" DataType="Boolean" Caption="Children do not participate in the labor pool.  Education for children is  highly encouraged and supported." />
			<common:FormField FieldID="CHILDCAREWHENPARENTABSENTADOPTION" DataType="Boolean" Caption="Adoption" />
			<common:FormField FieldID="CHILDCAREWHENPARENTABSENTEXTENDEDFAMILY" DataType="Boolean" Caption="Extended family" />
			<common:FormField FieldID="CHILDCAREWHENPARENTABSENTFOSTERCARE" DataType="Boolean" Caption="Foster care" />
			<common:FormField FieldID="CHILDCAREWHENPARENTABSENTINSTITUTION" DataType="Boolean" Caption="Institution" />
			<common:FormField FieldID="CHILDCAREWHENPARENTABSENTNOCARE" DataType="Boolean" Caption="No care available" />
			<common:FormField FieldID="CHILDCAREWHENPARENTABSENTOTHER" DataType="Boolean" Caption="Other" />
			<common:FormField FieldID="CHILDCAREWHENPARENTABSENTOTHERDESC" MaxLength="50" Caption="Child care when parent absent other description" />
			<common:FormField FieldID="LOCALADOPTIONACCEPTEDCODE" DataType="TinyInt" Caption="Is local adoption accepted?" />
			<common:FormField FieldID="FOREIGNADOPTIONLEGALCODE" DataType="TinyInt" Caption="Is foreign adoption legal?" />
		</common:FormFields>

        <common:WebUIComponent>
            <common:UIModel AssemblyName="MoM.Sponsorship.ChildProject.UIModel.dll" ClassName="MoM.Sponsorship.ChildProject.UIModel.ChildProjectCommunity2EditFormUIModel" />
            <common:WebUI>
                <common:ExternalResource Url="browser/htmlforms/custom/ChildProject.Community2.EditForm.html" />
            </common:WebUI>
        </common:WebUIComponent>

		<!-- indicate the client-side component for the user interface -->

	</common:FormMetaData>

</EditDataFormTemplateSpec>